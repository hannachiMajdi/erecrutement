{% extends 'base.html.twig' %}
{% block title %}Liste des candidats{% endblock %}
{% block body %}
    <div class="panel">
        <div class="panel-body">
            <h3 class="title-hero">
                Listes des candidat acceptées
            </h3>
            <div class="example-box-wrapper">
            {{ form_start(form) }}
                <table  class="table table-striped table-bordered" id="datatable-example">
                    <thead>
                    <tr>
                        <th>Cin</th>
                        <th>Nom</th>
                        <th>Prénom</th>
                        <th>Note pratique</th>
                        <th>Note orale</th>
                        <th>Note écrit</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for canEx in canExs %}
                    <tr class="odd gradeX">
                        <td>{{ canEx.candidat.cin }}</td>
                        <td>{{ canEx.candidat.nom }}</td>
                        <td>{{ canEx.candidat.prenom }}</td>

                        <td>
                            {% if canEx.pratique %}
                            <div class="input-group">
                                {% if is_granted('ROLE_RESPONSABLE') %}
                                    <span class="input-group-addon">
                                        <input class="custom-checkbox" required  name="p_check_{{ canEx.candidat.id }}"  type="checkbox" {% if canEx.pratique.verification %}checked{% endif %}>
                                    </span>
                                {% endif %}
                                <input class="form-control" type="number" max="20" min="0" name="p_{{ canEx.candidat.id }}" value="{{ canEx.pratique.note }}" required>
                                {% if is_granted('ROLE_RESPONSABLE') %}
                                {% if not canEx.pratique.verification %}
                                <span class="input-group-addon bg-white font-red">
                                        <i class="glyph-icon icon-exclamation"></i>
                                    </span>
                                {% else %}

                                    <span class="input-group-addon bg-white font-green">
                                        <i class="glyph-icon icon-check"></i>
                                    </span>
                                    {% endif %}
                                {% endif %}
                            </div>
                            {% endif %}
                        </td>

                        <td>
                            <div class="input-group">
                                {% if is_granted('ROLE_RESPONSABLE') %}
                                    <span class="input-group-addon">
                                        <input class="custom-checkbox" required  name="o_check_{{ canEx.candidat.id }}"  type="checkbox" {% if canEx.orale.verification %}checked{% endif %}>
                                    </span>
                                {% endif %}
                                <input class="form-control" type="number" max="20" min="0" name="o_{{ canEx.candidat.id }}" value="{{ canEx.orale.note }}" required>
                                {% if is_granted('ROLE_RESPONSABLE') %}
                                {% if  not canEx.orale.verification %}
                                    <span class="input-group-addon bg-white font-red">
                                        <i class="glyph-icon icon-exclamation"></i>
                                    </span>
                                    {% else %}

                                         <span class="input-group-addon bg-white font-green">
                                            <i class="glyph-icon icon-check"></i>
                                        </span>
                                        {% endif %}
                                {% endif %}
                            </div>
                        </td>

                        <td>
                            <div class="input-group">
                                {% if is_granted('ROLE_RESPONSABLE') %}
                                    <span class="input-group-addon">
                                        <input class="custom-checkbox" required name="e_check_{{ canEx.candidat.id }}" type="checkbox" {% if canEx.ecrit.verification %}checked{% endif %}>
                                    </span>
                                {% endif %}
                                <input class="form-control" type="number" max="20" min="0" name="e_{{ canEx.candidat.id }}" value="{{ canEx.ecrit.note }}" required>
                                {% if is_granted('ROLE_RESPONSABLE') %}
                                {% if not canEx.ecrit.verification %}
                                    <span class="input-group-addon bg-white font-red">
                                        <i class="glyph-icon icon-exclamation"></i>
                                    </span>
                                {% else %}

                                    <span class="input-group-addon bg-white font-green">
                                        <i class="glyph-icon icon-check"></i>
                                    </span>

                                {% endif %}
                                {% endif %}
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
                <div class="bg-default content-box text-center pad20A mrg25T">
                    <button type="submit" class="btn btn-primary">Enregistrer</button>
                </div>
            {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}
{% block javascripts %}

    <script type="text/javascript" src="{{ asset('assets/widgets/datatable/datatable.js') }}"></script>
    <script type="text/javascript" src="{{ asset('assets/widgets/datatable/datatable-bootstrap.js') }}"></script>
    <script type="text/javascript" src="{{ asset('assets/widgets/datatable/datatable-tabletools.js') }}"></script>
    <script type="text/javascript">
        /* Datatables basic */

        $(document).ready(function() {
            var table=$('#datatable-example').dataTable({
                "paging": true,
                "lengthChange": false,
                "searching": true,
                "ordering": false,
                "info": false,
                "autoWidth": false,
                "oLanguage": {
                    "sProcessing":     "Traitement en cours...",
                    "sSearch":         "Rechercher&nbsp;:",
                    "sLengthMenu":     "Afficher _MENU_ &eacute;l&eacute;ments",
                    "sInfo":           "Affichage de l'&eacute;l&eacute;ment _START_ &agrave; _END_ sur _TOTAL_ &eacute;l&eacute;ments",
                    "sInfoEmpty":      "Affichage de l'&eacute;l&eacute;ment 0 &agrave; 0 sur 0 &eacute;l&eacute;ment",
                    "sInfoFiltered":   "(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)",
                    "sInfoPostFix":    "",
                    "sLoadingRecords": "Chargement en cours...",
                    "sZeroRecords":    "Aucun &eacute;l&eacute;ment &agrave; afficher",
                    "sEmptyTable":     "Aucune donn&eacute;e disponible dans le tableau",
                    "oPaginate": {
                        "sFirst":      "Premier",
                        "sPrevious":   "Pr&eacute;c&eacute;dent",
                        "sNext":       "Suivant",
                        "sLast":       "Dernier"
                    },
                    "oAria": {
                        "sSortAscending":  ": activer pour trier la colonne par ordre croissant",
                        "sSortDescending": ": activer pour trier la colonne par ordre d&eacute;croissant"
                    }
                }
            });
        });
    </script>
{% endblock %}
